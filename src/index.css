@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   MODERN DESIGN SYSTEM - Design Tokens
   Educational Platform UI Refresh
   ============================================ */

:root {
  /* ─────────────────────────────────────────
     COLOR PALETTE
     Primary: Professional green (#0F766E teal-700 inspired)
     Keeping brand recognition while making it more sophisticated
     ───────────────────────────────────────── */
  
  /* Primary Brand Color */
  --color-primary-50: #f0fdfa;
  --color-primary-100: #ccfbf1;
  --color-primary-200: #99f6e4;
  --color-primary-300: #5eead4;
  --color-primary-400: #2dd4bf;
  --color-primary-500: #14b8a6;
  --color-primary-600: #0d9488;
  --color-primary-700: #0f766e;
  --color-primary-800: #115e59;
  --color-primary-900: #134e4a;
  
  /* Neutral Palette - Slate for modern feel */
  --color-neutral-0: #ffffff;
  --color-neutral-50: #f8fafc;
  --color-neutral-100: #f1f5f9;
  --color-neutral-200: #e2e8f0;
  --color-neutral-300: #cbd5e1;
  --color-neutral-400: #94a3b8;
  --color-neutral-500: #64748b;
  --color-neutral-600: #475569;
  --color-neutral-700: #334155;
  --color-neutral-800: #1e293b;
  --color-neutral-900: #0f172a;
  
  /* Semantic Colors */
  --color-success-50: #f0fdf4;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  
  --color-warning-50: #fffbeb;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  
  --color-error-50: #fef2f2;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  
  --color-info-50: #eff6ff;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;

  /* ─────────────────────────────────────────
     TYPOGRAPHY SCALE
     Using Inter for modern, readable text
     ───────────────────────────────────────── */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  
  --font-size-xs: 0.75rem;      /* 12px */
  --font-size-sm: 0.875rem;     /* 14px */
  --font-size-base: 1rem;       /* 16px */
  --font-size-lg: 1.125rem;     /* 18px */
  --font-size-xl: 1.25rem;      /* 20px */
  --font-size-2xl: 1.5rem;      /* 24px */
  --font-size-3xl: 1.875rem;    /* 30px */
  --font-size-4xl: 2.25rem;     /* 36px */
  
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;

  /* ─────────────────────────────────────────
     SPACING SCALE
     8px base unit for consistent rhythm
     ───────────────────────────────────────── */
  --space-0: 0;
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */
  --space-20: 5rem;     /* 80px */
  --space-24: 6rem;     /* 96px */

  /* ─────────────────────────────────────────
     BORDER RADIUS
     Softer, modern rounded corners
     ───────────────────────────────────────── */
  --radius-sm: 0.375rem;    /* 6px */
  --radius-md: 0.5rem;      /* 8px */
  --radius-lg: 0.75rem;     /* 12px */
  --radius-xl: 1rem;        /* 16px */
  --radius-2xl: 1.25rem;    /* 20px */
  --radius-full: 9999px;

  /* ─────────────────────────────────────────
     SHADOWS
     Subtle, modern shadows - less is more
     ───────────────────────────────────────── */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.03);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.05), 0 8px 10px -6px rgb(0 0 0 / 0.05);
  
  /* Colored shadow for cards on hover */
  --shadow-primary: 0 10px 40px -10px rgb(15 118 110 / 0.15);

  /* ─────────────────────────────────────────
     TRANSITIONS
     Smooth, subtle animations
     ───────────────────────────────────────── */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* ─────────────────────────────────────────
     Z-INDEX SCALE
     ───────────────────────────────────────── */
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-fixed: 30;
  --z-modal-backdrop: 40;
  --z-modal: 50;
  --z-toast: 60;
}

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    font-family: var(--font-family);
    scroll-behavior: smooth;
  }

  body {
    @apply bg-neutral-50 text-neutral-800;
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }

  /* Remove default focus for mouse users */
  :focus:not(:focus-visible) {
    outline: none;
  }

  /* Selection color */
  ::selection {
    background-color: var(--color-primary-100);
    color: var(--color-primary-900);
  }
}

/* ============================================
   COMPONENT STYLES
   ============================================ */

@layer components {
  /* ─────────────────────────────────────────
     CARDS
     ───────────────────────────────────────── */
  .card {
    @apply bg-white rounded-2xl;
    box-shadow: var(--shadow-sm);
  }

  .card-interactive {
    @apply card cursor-pointer;
    transition: box-shadow var(--transition-base), transform var(--transition-base);
  }

  .card-interactive:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }

  .card-elevated {
    @apply bg-white rounded-2xl;
    box-shadow: var(--shadow-md);
  }

  /* ─────────────────────────────────────────
     BUTTONS
     ───────────────────────────────────────── */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-medium rounded-xl;
    @apply transition-all duration-200;
    @apply focus-visible:ring-2 focus-visible:ring-offset-2;
    min-height: 44px; /* Touch target */
  }

  .btn-sm {
    @apply px-3 py-2 text-sm;
    min-height: 36px;
  }

  .btn-md {
    @apply px-4 py-2.5 text-sm;
    min-height: 44px;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
    min-height: 48px;
  }

  .btn-primary {
    @apply bg-primary-600 text-white;
    @apply hover:bg-primary-700;
    @apply focus-visible:ring-primary-500;
  }

  .btn-secondary {
    @apply bg-neutral-100 text-neutral-700;
    @apply hover:bg-neutral-200;
    @apply focus-visible:ring-neutral-400;
  }

  .btn-ghost {
    @apply bg-transparent text-neutral-600;
    @apply hover:bg-neutral-100 hover:text-neutral-800;
    @apply focus-visible:ring-neutral-400;
  }

  .btn-outline {
    @apply bg-transparent border border-neutral-200 text-neutral-700;
    @apply hover:bg-neutral-50 hover:border-neutral-300;
    @apply focus-visible:ring-neutral-400;
  }

  .btn-success {
    @apply bg-success-600 text-white;
    @apply hover:bg-success-500;
    @apply focus-visible:ring-success-500;
  }

  .btn-danger {
    @apply bg-error-600 text-white;
    @apply hover:bg-error-500;
    @apply focus-visible:ring-error-500;
  }

  /* ─────────────────────────────────────────
     BADGES
     ───────────────────────────────────────── */
  .badge {
    @apply inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-700;
  }

  .badge-success {
    @apply bg-success-50 text-success-600;
  }

  .badge-warning {
    @apply bg-warning-50 text-warning-600;
  }

  .badge-error {
    @apply bg-error-50 text-error-600;
  }

  .badge-info {
    @apply bg-info-50 text-info-600;
  }

  .badge-neutral {
    @apply bg-neutral-100 text-neutral-600;
  }

  /* ─────────────────────────────────────────
     FORM INPUTS
     ───────────────────────────────────────── */
  .input {
    @apply w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl;
    @apply text-neutral-800 placeholder:text-neutral-400;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-100;
    min-height: 44px;
  }

  .input-error {
    @apply border-error-500 focus:border-error-500 focus:ring-error-100;
  }

  /* ─────────────────────────────────────────
     PROGRESS BAR
     ───────────────────────────────────────── */
  .progress-bar {
    @apply w-full h-2 bg-neutral-100 rounded-full overflow-hidden;
  }

  .progress-bar-fill {
    @apply h-full bg-primary-500 rounded-full;
    transition: width var(--transition-slow);
  }

  /* ─────────────────────────────────────────
     TABS / SEGMENTED CONTROL
     ───────────────────────────────────────── */
  .tabs-container {
    @apply inline-flex p-1 bg-neutral-100 rounded-xl;
  }

  .tab {
    @apply px-4 py-2 text-sm font-medium text-neutral-500 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:text-neutral-700;
  }

  .tab-active {
    @apply bg-white text-neutral-800 shadow-sm;
  }

  /* ─────────────────────────────────────────
     FILTER CHIPS
     ───────────────────────────────────────── */
  .chip {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-full;
    @apply border border-neutral-200 bg-white text-neutral-600;
    @apply transition-all duration-200 cursor-pointer;
    @apply hover:border-neutral-300 hover:bg-neutral-50;
    min-height: 32px;
  }

  .chip-active {
    @apply border-primary-200 bg-primary-50 text-primary-700;
    @apply hover:border-primary-300 hover:bg-primary-100;
  }

  /* ─────────────────────────────────────────
     SURFACE LAYERS
     For subtle depth without harsh borders
     ───────────────────────────────────────── */
  .surface-raised {
    @apply bg-white;
    box-shadow: var(--shadow-xs);
  }

  .surface-overlay {
    @apply bg-white;
    box-shadow: var(--shadow-lg);
  }

  /* ─────────────────────────────────────────
     SECTION HEADERS
     ───────────────────────────────────────── */
  .section-title {
    @apply text-lg font-semibold text-neutral-800;
  }

  .section-subtitle {
    @apply text-sm text-neutral-500;
  }

  /* ─────────────────────────────────────────
     NAV ITEM
     ───────────────────────────────────────── */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 text-neutral-600 rounded-xl;
    @apply transition-all duration-200;
    @apply hover:bg-neutral-100 hover:text-neutral-800;
  }

  .nav-item-active {
    @apply bg-primary-50 text-primary-700 font-medium;
    @apply hover:bg-primary-100;
  }

  /* ─────────────────────────────────────────
     STAT CARD
     ───────────────────────────────────────── */
  .stat-value {
    @apply text-2xl font-bold text-neutral-800;
  }

  .stat-label {
    @apply text-sm text-neutral-500;
  }

  /* ─────────────────────────────────────────
     DIVIDER
     ───────────────────────────────────────── */
  .divider {
    @apply border-t border-neutral-100;
  }

  .divider-vertical {
    @apply border-l border-neutral-100 h-full;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Gradient backgrounds */
  .gradient-primary {
    background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
  }

  .gradient-subtle {
    background: linear-gradient(180deg, var(--color-neutral-50) 0%, var(--color-neutral-0) 100%);
  }

  /* Text gradient */
  .text-gradient {
    background: linear-gradient(135deg, var(--color-primary-600), var(--color-primary-800));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Safe area for mobile */
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Truncate with ellipsis */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-slide-up {
  animation: slide-up 0.2s ease-out;
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

/* ============================================
   RESPONSIVE UTILITIES
   ============================================ */

/* Container with max-width */
.container-app {
  @apply w-full max-w-7xl mx-auto px-4 lg:px-6;
}

/* Main content area padding */
.content-area {
  @apply px-4 py-6 lg:px-6 lg:py-8;
}
